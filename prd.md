아래는 요청하신 **순발력 테스트 게임 (모기잡기 게임)** 의 **PRD (Product Requirements Document)** 예시입니다.
요구사항 기반으로 **MVP 중심, 단순 UI, Next.js + Nest.js 구조**로 작성했습니다.

---

# 🪰 순발력 테스트 게임 PRD (Product Requirements Document)

## 1. 프로젝트 개요

**프로젝트명:**

> “모기 퇴치 대작전 (Mosquito Reflex Test)”

**목표:**
1분 동안 화면에 날아다니는 다양한 곤충(모기, 말라리아 모기, 벌)을 클릭하여 점수를 얻는 **순발력 테스트형 웹 게임**입니다.
게임은 반응속도와 정확도를 측정하며, 유저 이름과 난이도별로 랭킹을 기록합니다.

**핵심 키워드:**

> 단순한 조작 / 빠른 반응 / 점수 경쟁 / 클린 UI / 서버 메모리 기반 MVP

---

## 2. 유저 플로우

```
[홈 화면]
 ↓
 유저 이름 입력 → 난이도 선택 → "게임 시작" 클릭
 ↓
[게임 화면]
 - 모기, 말라리아 모기, 벌 등장 (랜덤)
 - 제한시간 1분
 - 생물 클릭 시 점수 변동
 - 실시간 랭킹 갱신 표시
 ↓
 게임 종료 후 점수 저장 → 랭킹 업데이트 → 재시작 가능
```

---

## 3. 핵심 기능

### 3.1 게임 로직

| 요소             | 설명                                          |
| -------------- | ------------------------------------------- |
| **게임 시간**      | 1분(60초) 고정                                  |
| **출현 생물 종류**   | 3종 (일반 모기, 말라리아 모기, 벌)                      |
| **점수 규칙**      | 일반모기 +1 / 말라리아모기 +3 / 벌 -5                  |
| **출현 확률**      | 일반모기 70%, 말라리아모기 20%, 벌 10% (난이도에 따라 조정 가능) |
| **난이도**        | easy / medium / hard                        |
| **난이도별 변화 요소** | 곤충 속도, 출현 빈도                                |
| **조작 방법**      | 마우스 클릭(또는 터치)으로 생물 잡기                       |
| **게임 종료 조건**   | 1분 타이머 종료                                   |

---

### 3.2 UI 구성

#### 🏠 홈 화면

* 게임 제목 및 간단한 설명
* 입력란: **유저 이름**
* 선택란: **난이도 (easy / medium / hard)**
* 버튼: **게임 시작**
* 스타일: TailwindCSS 기반 minimal design (중앙 정렬, 한 화면 구성)

#### 🎮 게임 화면

* **게임 시작 버튼** (시작 전 표시)
* **모기 잡기 영역 (Canvas or absolute div 요소)**
  → 곤충들이 랜덤 위치 및 속도로 이동
* **게임 정보창**

  * 남은 시간
  * 현재 점수
  * 난이도 표시
* **랭킹창 (우측 or 하단)**

  * 현재 난이도별 상위 5명 표시
  * “유저 이름 / 점수 / 시간” 형식
* **게임 종료 후** “다시 시작하기” 버튼 표시

---

### 3.3 서버 로직 (Nest.js)

| 기능 | 설명 | HTTP 메서드 | 엔드포인트 | Request Body | Response |
|------|------|--------------|--------------|--------------|
| 점수 등록 | 유저의 점수, 이름, 난이도를 저장 | `POST` | `/api/score` | `{ name, score, difficulty }` | `{ success: true }` |
| 랭킹 조회 | 난이도별 상위 랭킹 조회 | `GET` | `/api/rank/:difficulty` | - | `[ { name, score } ]` |
| 상태 초기화 | (개발용) 서버 메모리 초기화 | `DELETE` | `/api/reset` | - | `{ success: true }` |

* **데이터 저장:**
  Database 없이 서버 메모리(Map or Object)로 관리 (MVP)

  ```ts
  const rankings = {
    easy: [],
    medium: [],
    hard: []
  };
  ```
* **정렬 기준:**
  점수 내림차순 → 동점 시 최근 기록 순

---

### 3.4 난이도별 설정 예시

| 난이도    | 곤충 이동 속도         | 곤충 등장 주기 | 출현 확률 조정                    |
| ------ | ---------------- | -------- | --------------------------- |
| easy   | 느림 (1~2초 이동)     | 2초마다     | 기본값                         |
| medium | 보통 (0.8~1.5초 이동) | 1.5초마다   | 일반모기 60% / 말라리아 25% / 벌 15% |
| hard   | 빠름 (0.5~1초 이동)   | 1초마다     | 일반모기 50% / 말라리아 30% / 벌 20% |

---

## 4. 기술 스택

| 구분           | 기술스택                              | 설명                     |
| ------------ | --------------------------------- | ---------------------- |
| **Frontend** | Next.js, TailwindCSS              | SPA 구조, 반응형 minimal UI |
| **Backend**  | Nest.js                           | API 서버, 메모리 기반 점수 관리   |
| **State 관리** | React Hooks (useState, useEffect) | 클라이언트 게임 상태 관리         |
| **통신**       | fetch (native)                    | RESTful API 호출         |
| **배포 (선택)**  | Cloudtype / Vercel                | 빠른 배포용                 |
| **API 문서화**  | Markdown (예: `/docs/api.md`)      | PRD 내 API 명세 관리        |

---

## 5. MVP (Minimum Viable Product) 범위

✅ 포함 기능

* [x] 홈 화면 (이름 입력 + 난이도 선택 + 시작 버튼)
* [x] 1분 타이머 기반 게임 실행
* [x] 곤충 랜덤 이동 및 클릭 시 점수 반영
* [x] 난이도별 속도 및 확률 설정
* [x] 점수 서버 저장 및 실시간 랭킹 표시
* [x] 서버 메모리 기반 임시 저장
* [x] API 명세서 작성 (`/docs/api.md`)

🚫 제외 기능 (MVP 이후 예정)

* DB 연동 (예: MySQL / Redis)
* 로그인 및 인증 기능
* 애니메이션 효과 고도화
* 반응형 모바일 UX 최적화
* 사운드 효과
* 소셜 공유 기능

---

## 6. 추가 개선사항 (Post-MVP)

| 기능                      | 설명                                     |
| ----------------------- | -------------------------------------- |
| **DB 연동**               | PostgreSQL or Redis로 점수 및 유저 데이터 영구 저장 |
| **랭킹 기간 구분**            | 일간 / 주간 / 전체 랭킹                        |
| **반응형 디자인 개선**          | 모바일/PC 구분 화면 최적화                       |
| **애니메이션 강화**            | CSS keyframe, Framer Motion 적용         |
| **사운드 효과 추가**           | 클릭, 타이머, 배경음 추가                        |
| **PWA 적용**              | 오프라인 플레이 가능하게                          |
| **JWT 인증 시스템**          | 유저 세션 관리                               |
| **멀티플레이 모드 (optional)** | 실시간 경쟁 모드                              |

---

## 7. 파일 및 디렉토리 구조 (예시)

### Frontend (Next.js)

```
frontend/
 ├─ pages/
 │   ├─ index.tsx          # 홈 화면
 │   ├─ game.tsx           # 게임 화면
 ├─ components/
 │   ├─ GameBoard.tsx
 │   ├─ RankingBoard.tsx
 │   └─ GameInfo.tsx
 ├─ styles/
 │   └─ globals.css
 ├─ utils/
 │   └─ api.ts             # fetch 래퍼
 └─ docs/
     └─ api.md             # API 명세서
```

### Backend (Nest.js)

```
backend/
 ├─ src/
 │   ├─ app.module.ts
 │   ├─ score/
 │   │   ├─ score.controller.ts
 │   │   ├─ score.service.ts
 │   │   └─ score.model.ts
 │   └─ common/
 │       └─ types.ts
 └─ docs/
     └─ api.md
```

---

## 8. 예상 개발 일정 (MVP)

| 기간    | 주요 작업                                        |
| ----- | -------------------------------------------- |
| Day 1 | 기본 프로젝트 세팅 (Next.js + Nest.js + TailwindCSS) |
| Day 2 | 홈 화면 + 게임 로직 UI 구현                           |
| Day 3 | 곤충 랜덤 이동 로직 및 점수 계산                          |
| Day 4 | Nest.js API 구축 (점수 등록/조회)                    |
| Day 5 | 랭킹 표시 및 연동 테스트                               |
| Day 6 | 전체 테스트 및 간단한 스타일링                            |
| Day 7 | 문서화 (PRD + API 명세) 및 배포                      |

---
